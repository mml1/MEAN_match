<html ng-app= "gApp">
<head>
	<title>Flip Cards</title>
	<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
	<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.min.js"></script>
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<script type="text/javascript">
		var gAppModule = angular.module("gApp", ["ngRoute"]);
		gAppModule.config(function($routeProvider){
			$routeProvider
			.when("/users", {
				templateUrl: "../static/partials/users.html"
			}).otherwise({
				templateUrl: "../static/partials/board.html"
			})		
		});

		gAppModule.factory("BoardFactory", function($http){
			var factory = {};
			var cards = [
				[{card:{
						flip: false,
						col:0,
						row:0,
						match: false,
						face: "apple"
					}}, 
					{card:{
						flip: false,
						col:1,
						row:0,
						match: false,
						face: "mango"
					}},  
					{card:{
						flip: false,
						col:2,
						row:0,
						match: false,
						face: "grapes"
					}}],
					[{card:{
						flip: false,
						col:0,
						row:1,
						match: false,
						face: "pinapple"
					}}, 
					{card:{
						flip: false,
						col:1,
						row:1,
						match: false,
						face: "kiwi"
					}},  
					{card:{
						flip: false,
						col:2,
						row:1,
						match: false,
						face: "pears"
					}}],
					[{card:{
						flip: false,
						col:0,
						row:2,
						match: false,
						face: "kiwi"
					}}, 
					{card:{
						flip: false,
						col:1,
						row:2,
						match: false,
						face: "grapes"
					}},  
					{card:{
						flip: false,
						col:2,
						row:2,
						match: false,
						face: "mango"
					}}],
					[{card:{
						flip: false,
						col:0,
						row:2,
						match: false,
						face: "pears"
					}}, 
					{card:{
						flip: false,
						col:1,
						row:2,
						match: false,
						face: "pinapple"
					}},  
					{card:{
						flip: false,
						col:2,
						row:2,
						match: false,
						face: "apple"
					}}]
			]
			factory.getBoard = function(callback){
				callback(cards)
			};
			return factory;
		});
		gAppModule.factory("UserFactory", function($http){
			var factory = {};
			var users = [];
			factory.index = function(callback){
				$http.get("/REPLACE").success(function(dbinfo){
					users = dbinfo;
					callback(users);
				});
			};
			return factory;
		});

		gAppModule.controller("UsersController", function($scope, UserFactory){
			UserFactory.index(function(dbinfo){
				$scope.users = dbinfo;
			});
		});
		gAppModule.controller("MovesController", function($scope, BoardFactory){
			BoardFactory.getBoard(function(cards){
				$scope.cards = cards
			})

		});

	</script>
	
</head>
<body>
	<div class= "container">
		<a href = "#/users">Users</a>
		<div class = "row" ng-view=""></div>
	</div>

</body>
</html>
